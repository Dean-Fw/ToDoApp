<ContentNavigationDrawer>:
    MDList:

        OneLineIconListItem:
            text: "Home"
            on_press:
                root.nav_drawer.set_state("close")
                root.screen_manager.current = "HomeScreen"
				app.root.ids.topBar.title = "Home"
			IconLeftWidgetWithoutTouch:
        		icon: "home"

        OneLineIconListItem:
            text: "ToDo Lists"
            on_press:
                root.nav_drawer.set_state("close")
                root.screen_manager.current = "ToDoListFeature"
				app.root.ids.topBar.title = "Your ToDo Lists"
			
			IconLeftWidgetWithoutTouch:
        		icon: "format-list-bulleted"

		OneLineIconListItem:
            text: "Notes"
            on_press:
                root.nav_drawer.set_state("close")
                root.screen_manager.current = "NotesScreen"
				app.root.ids.topBar.title = "Your Notes"
			
			IconLeftWidgetWithoutTouch:
        		icon: "format-list-bulleted"

MDScreen:

    MDTopAppBar:
		id: topBar
        pos_hint: {"top": 1}
        elevation: 4
        title: "Home"
        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]

    MDNavigationLayout:

        MDScreenManager:
            id: screen_manager

            HomeScreen:
				id: HomeScreen
                name: "HomeScreen"

            ToDoListView:
				id: ToDoListView
				screen_manager: screen_manager
                name: "ToDoListFeature"

			NoteScreen:
				id: NotesPage
				screen_manager: screen_manager
				name: "NotesScreen"

        MDNavigationDrawer:
            id: nav_drawer
            radius: (0, 16, 16, 0)

            ContentNavigationDrawer:
                screen_manager: screen_manager
                nav_drawer: nav_drawer

# NoteScreen  Styling
<NoteScreen>:
	MDLabel:
		text: "Notes"


# HomeScreen Styling
<HomeScreen>:
	MDBoxLayout:
		orientation: "vertical"
		Widget:
			size_hint: 1, .1
		ScrollView:
			pos_hint: {"center_y": .5, "center_x": .5}
			size_hint: .9, .8
			id: scroll_view
			MDList:
				id: home_list
				FavouriteSpace:

<FavouriteSpace>:
	padding: "5dp"
	size_hint_y: None
	MDCard:
		on_release: 
			app.root.ids.screen_manager.current = "ToDoListFeature"
			app.root.ids.topBar.title = "Your ToDo lists"
		md_bg_color: "#2894f4"
		MDBoxLayout:
			padding: "10dp"
			orientation: "vertical"
			MDLabel:
				id: card_title
				markup: True
				text: "[b][u]Favourited Lists:[/b][/u]"
				font_size: "25dp"	
				sapcing: "10dp"
				size_hint: 1, None
				height: "50dp"
				pos_hint: {"top": 0.1}
			MDList:
				id: space_for_cards
				size_hint: 1,.8


<ListCard>:
	padding: "5dp"
	size_hint_y: None
	height: "100dp"
	MDCard:
		on_release: 
			app.root.ids.screen_manager.current = list_name.text
			app.root.ids.screen_manager.get_screen(list_name.text).previous = "HomeScreen"
			app.root.ids.topBar.title = list_name.text
		padding: "10dp"
		MDBoxLayout:
			id: boxlayout_in_card
			orientation: "vertical"
			MDLabel:
				markup: True
				font_size: "20dp"
				id: list_name
			MDList:
				id:Container
 
			
# ToDo List view Styling
<ToDoListView>:
	MDFloatLayout:	
		ScrollView:
			pos_hint: {"center_y": .5, "center_x": .5}
			size_hint: .9, .8
	
			MDList:
				id: Container
			
		MDFloatingActionButton:
			icon: "plus-thick"
			on_release: root.show_task_dialog(root.screen_manager)
			elevation_noraml: 10
			pos_hint: {"x": .85, "y":.05}

<CreateListDialog>:
	orientation: "vertical"
	padding: "5dp"
	size_hint: 1, None
	height: "130dp"

	MDTextField:
		id: list_text
		hint_text: "Name ToDo list..."
		pos_hint: {"center_y": .4}
        max_text_length: 50

	BoxLayout:
        orientation: 'horizontal'

        MDRaisedButton:
            text: "SAVE"
            on_release: (root.screen_manager.get_screen("ToDoListFeature").add_task(list_text), root.screen_manager.get_screen("ToDoListFeature").close_dialog())
        MDFlatButton:
            text: 'CANCEL'
            on_release: root.screen_manager.get_screen("ToDoListFeature").close_dialog()

<ListItemWithoutCheckbox>:
	id: list_item
	IconLeftWidget:
		id: star
		icon: "star-outline"
		theme_text_color: "Custom"
		text_color: 33,150,243,1
		on_release:
			root.favourite_list()

	IconRightWidget:
		icon: "trash-can-outline"
		theme_text_color: "Custom"
		text_color: 1,0,0,1
		on_release:
			root.delete_item()

# Individual ToDo List Styling
<ListItemWithCheckbox>:
	id: list_item
	markup: True
	on_release: app.root.ids.screen_manager.current_screen.open_edit_dialog(self)
	LeftCheckbox:
		id: check
		on_release:
			root.mark(check, list_item)
	
	IconRightWidget:
		icon: "trash-can-outline"
		theme_text_color: "Custom"
		text_color: 1,0,0,1
		on_release:
			root.delete_item(list_item)

<CreatedToDoListPage>:
	MDFloatLayout:

		ScrollView:
			pos_hint: {"center_y": .5, "center_x": .5}
			size_hint: .9, .8

			MDList:
				id: Container

		MDRectangleFlatIconButton:
			icon: "keyboard-backspace"
			text: "Return to Previous screen"
			pos_hint: {"x": .05, "y":.05}
			on_release: 
				app.root.ids.screen_manager.current = root.go_to_previous_screen()

		MDFloatingActionButton:
			icon: "plus-thick"

			on_release: root.show_task_dialog(app.root.ids.screen_manager)
			elevation_noraml: 10
			pos_hint: {"x": .85, "y":.05}

<SaveEditedTaskButton>:
	id: save_button
    text: "SAVE"
    on_release: (root.parent.parent.edit_task(), app.root.ids.screen_manager.current_screen.close_dialog())
        
<SaveNewTaskButton>:
	id: save_button
	text: "SAVE"
	on_release: (root.parent.parent.add_task(), app.root.ids.screen_manager.current_screen.close_dialog())

<DialogContent>:
    orientation: "vertical"
    sapcing: "20dp"
    size_hint: 1, None
    height: "200dp"

    MDTextField:
        id: task_text
        hint_text: "Add Task..."
        pos_hint: {"center_y": .4}
        max_text_length: 50
	
	BoxLayout:
		orientation: "vertical"
    	MDRectangleFlatIconButton:
			icon: 'calendar'
    	    text: 'Add a Deadline'
    	    on_release: root.show_date_picker()
    	MDLabel:
			spacing: "10dp"
    	    id: date_text
	BoxLayout:
		id: save_or_exit
        orientation: 'horizontal'
		MDFlatButton:
            text: 'CANCEL'
            on_release: app.root.ids.screen_manager.current_screen.close_dialog()
